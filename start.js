(()=>{"use strict";window.addEventListener("DOMContentLoaded",(()=>{(()=>{function e(e,n,o){const i=document.querySelector(e),d=document.querySelector(n),r=document.querySelector(o);async function c(e){t(e,`${n} div div div form input[name="user_name"]`,`${n} div div div form input[name="user_phone"]`)}i.addEventListener("click",(e=>{e.target&&e.preventDefault(),document.querySelector(`${n} div div div form button`).addEventListener("click",(e=>{c(e)})),document.body.style.overflow="hidden",d.style.display="block"})),r.addEventListener("click",(e=>{e.target&&e.preventDefault(),document.body.style.overflow="",d.style.display="none",document.querySelector(`${n} div div div form button`).removeEventListener("click",(e=>{c(e)}))})),d.addEventListener("click",(e=>{e.preventDefault(),e.target===d&&(document.body.style.overflow="",d.style.display="none",document.querySelector(`${n} div div div form button`).removeEventListener("click",(e=>{c(e)})))}))}async function t(e,t,n){e.preventDefault();const o=document.querySelector(t).value,i=document.querySelector(n).value;if(o&&i)try{(await fetch("http://localhost:4000/api/zamer/go",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o,phone:i})})).ok?console.log("Успех!"):console.log("Всё не занесено 321")}catch(e){console.log("Ошибка при отправке данных",e)}}e(".header_btn_wrap",".popup_engineer",".popup_engineer .popup_close"),e(".contact_us_wrap .phone_link",".popup",".popup .popup_close"),function(e,n){const o=document.querySelector(e);setTimeout((()=>{document.body.style.overflow="hidden",o.style.display="block",document.querySelector(`${e} div div div form button`).addEventListener("click",(n=>{!async function(n){t(n,`${e} div div div form input[name="user_name"]`,`${e} div div div form input[name="user_phone"]`)}(n)}))}),6e4)}(".popup"),document.querySelector("main div div div form button").addEventListener("click",(e=>{t(e,'main div div div form input[name="user_name"]','main div div div form input[name="user_phone"]')}));for(let e of document.querySelector(".decoration_content .row").children)document.querySelector(`.${e.classList} div form button`).addEventListener("click",(n=>{t(n,`.${e.classList} div form input[name="user_name"]`,`.${e.classList} div form input[name="user_phone"]`)}));document.querySelector(".sale div div div form button").addEventListener("click",(e=>{t(e,'.sale div div div form input[name="user_name"]','.sale div div div form input[name="user_phone"]')})),document.querySelector(".popup_calc_end div div div form button").addEventListener("click",(e=>{t(e,'.popup_calc_end div div div form input[name="user_name"]','.popup_calc_end div div div form input[name="user_phone"]')}))})(),(()=>{function e(e,t,n=0){const o=document.querySelectorAll(e);o.forEach((e=>{e.addEventListener("click",(i=>{o.forEach((e=>{e.firstElementChild.classList.remove("after_click")})),e.firstElementChild.classList.add("after_click"),function(e,t,n){const o=document.querySelector(e);for(let e of o.children)e.style.display="none";if(n)for(let e=0;e<n;e++)Array.from(o.children)[e].style.display="block";Array.from(o.children)[t+n].style.display="block"}(t,Array.from(o).indexOf(e),n)}))}))}e(".decoration_item",".decoration_content .row"),e(".glazing_block",".glazing .container",2)})()}))})();