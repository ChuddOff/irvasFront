(()=>{"use strict";window.addEventListener("DOMContentLoaded",(()=>{(()=>{function e(e,n,o){const i=document.querySelector(e),c=document.querySelector(n),d=document.querySelector(o);async function r(e){t(e,`${n} div div div form input[name="user_name"]`,`${n} div div div form input[name="user_phone"]`)}i.addEventListener("click",(e=>{e.target&&e.preventDefault(),document.querySelector(`${n} div div div form button`).addEventListener("click",(e=>{r(e)})),document.body.style.overflow="hidden",c.style.display="block"})),d.addEventListener("click",(e=>{e.target&&e.preventDefault(),document.body.style.overflow="",c.style.display="none",document.querySelector(`${n} div div div form button`).removeEventListener("click",(e=>{r(e)}))})),c.addEventListener("click",(e=>{e.preventDefault(),e.target===c&&(document.body.style.overflow="",c.style.display="none",document.querySelector(`${n} div div div form button`).removeEventListener("click",(e=>{r(e)})))}))}async function t(e,t,n){e.preventDefault();const o=document.querySelector(t).value,i=document.querySelector(n).value;if(o&&i)try{(await fetch("https://irvas-back-4g64.vercel.app/api/zamer/go",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o,phone:i})})).ok?console.log("Успех!"):console.log("Всё не занесено 321")}catch(e){console.log("Ошибка при отправке данных",e)}}e(".header_btn_wrap",".popup_engineer",".popup_engineer .popup_close"),e(".contact_us_wrap .phone_link",".popup",".popup .popup_close"),function(e,n){const o=document.querySelector(e);setTimeout((()=>{document.body.style.overflow="hidden",o.style.display="block",document.querySelector(`${e} div div div form button`).addEventListener("click",(n=>{!async function(n){t(n,`${e} div div div form input[name="user_name"]`,`${e} div div div form input[name="user_phone"]`)}(n)}))}),6e4)}(".popup");const n=document.querySelector(".glazing .container").children;for(let t=2;t<n.length;t++)e(`${n[t].classList} div:nth-child(1) div.glazing_price button`,".popup_calc",".popup_calc div div button.popup_calc_close"),5!=t&&e(`${n[t].classList} div:nth-child(2) div.glazing_price button`,".popup_calc",".popup_calc div div button.popup_calc_close");document.querySelector("main div div div form button").addEventListener("click",(e=>{t(e,'main div div div form input[name="user_name"]','main div div div form input[name="user_phone"]')}));for(let e of document.querySelector(".decoration_content .row").children)document.querySelector(`.${e.classList} div form button`).addEventListener("click",(n=>{t(n,`.${e.classList} div form input[name="user_name"]`,`.${e.classList} div form input[name="user_phone"]`)}));document.querySelector(".sale div div div form button").addEventListener("click",(e=>{t(e,'.sale div div div form input[name="user_name"]','.sale div div div form input[name="user_phone"]')})),document.querySelector(".popup_calc_end div div div form button").addEventListener("click",(e=>{t(e,'.popup_calc_end div div div form input[name="user_name"]','.popup_calc_end div div div form input[name="user_phone"]')}))})(),(()=>{function e(e,t,n=0){const o=document.querySelectorAll(e);o.forEach((e=>{e.addEventListener("click",(i=>{o.forEach((e=>{e.firstElementChild.classList.remove("after_click")})),e.firstElementChild.classList.add("after_click"),function(e,t,n){const o=document.querySelector(e);for(let e of o.children)e.style.display="none";if(n)for(let e=0;e<n;e++)Array.from(o.children)[e].style.display="block";Array.from(o.children)[t+n].style.display="block"}(t,Array.from(o).indexOf(e),n)}))}))}e(".decoration_item",".decoration_content .row"),e(".glazing_block",".glazing .container",2)})()}))})();